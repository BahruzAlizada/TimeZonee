@model List<Product>

<div class="row">
    @foreach (var product in Model)
    {
        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
            <div class="single-popular-items mb-50 text-center">
                <div class="popular-img">
                    <a asp-controller="Product" asp-action="Detail" asp-route-id="@product.Id">
                        <img style="height:373px; width:360px;" src="~/assets/img/product/@product.Image">
                    </a>
                    <div class="img-cap">
                        @if (User.Identity.IsAuthenticated)
                        {
                            <a asp-controller="Basket" asp-action="AddBasket" asp-route-id="@product.Id"><span>Səbətə at</span></a>
                        }
                        else
                        {
                            <a asp-controller="Account" asp-action="Login"><span>Səbətə at</span></a>
                        }
                    </div>

                </div>
                <div class="popular-caption">
                    <h3><a asp-controller="Product" asp-action="Detail" asp-route-id="@product.Id">@product.Name</a></h3>
                    <span>@product.Price Azn</span>
                </div>
            </div>
        </div>
    }
</div>